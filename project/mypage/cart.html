<!DOCTYPE html>
<html lang="ko">
<head>
  <title>Cart - NONGDAMGOM WORLD</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="../main/main_style.css">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Do+Hyeon&family=Gamja+Flower&family=Orbit&display=swap" rel="stylesheet">
  <style>
    .main-content {
      width: 50%;
      margin: 50px auto;
      border: 1px solid #000;
      padding: 20px;
      text-align: center;
    }
    .main-content h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      border: 1px solid #000;
      margin-bottom: 20px;
      position: relative;
    }
    .cart-item img {
      height: 100px;
      display: block;
      margin-left: 20px;
    }
    .cart-item div {
      flex: 1;
      margin-left: 20px;
      display: flex;
      align-items: center;
    }
    .cart-item .btn-group {
      display: flex;
      align-items: center;
      margin-left: auto;
    }
    .cart-item .btn-group input {
      text-align: center;
      width: 50px;
    }
    .cart-item .btn2 {
      margin-left: 0px;
    }
    .cart-item .btn3 {
      margin-left: 25px;
    }
    .btn2 {
      background-color: #ffd0e9;
      color: #000;
      border: 1.5px solid #000;
      padding: 2px 5px;
      width: 25px;
      font-weight: bold;  
    }
    .btn4 {
      background-color: #ffd0e9;
      color: #000;
      border: 1.5px solid #000;
      padding: 5px;
      border-radius: 15%;
      font-weight: bold;
      font-family: "Orbit", cursive;
    }
    .btn3 {
      background-color: #ffd0e9;
      color: #000;
      border: 1.5px solid #000;
      padding: 5px;
      border-radius: 15%;
      font-weight: bold;
    }
    .btn2:hover, .btn3:hover, .btn4:hover {
      background-color: #d57eac;;
      font-weight: 600;
    }

    .btn-group input[type="number"]::-webkit-outer-spin-button,
    .btn-group input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    .item-details {
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }
    .item-details strong {
      margin-left: 20px;
    }
    .order-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
    }
  </style>
</head>

<body>

<div class="header">
  <h1 class="custom-font">NONGDAMGOM WORLD</h1>
</div>

<nav class="navbar navbar-expand-sm">
  <ul class="navbar-nav mx-auto">
    <li class="nav-item">
      <a class="nav-link" href="../main/main.html">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="../online/online.html">Online Store</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="../offline/offline.html">Offline Store</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="mypage.html">My Page</a>
    </li>
  </ul>
  <a class="btn" href="../login/login.html">Login</a>
</nav>

<div class="main-content">
  <h2><img src="https://img.icons8.com/ios-filled/50/000000/shopping-cart.png" style="width: 50px; height: 50px; margin-right: 10px;"/>장바구니</h2>
  <div class="cart-item" data-id="1">
    <div class="item-details">
      <input type="checkbox" class="form-check-input" style="margin-right: 10px;">
      <img src="../online/트위터키링.png" alt="Item 1">
      <strong>나가노 캐릭터 친구 마스코트(트위터)</strong>
    </div>
    <div>
      20,500 KRW
    </div>
    <div class="btn-group">
        <button class="btn2 btn-outline-secondary" onclick="changeQuantity(this, -1)">-</button>
        <input type="number" value="1" min="1">
        <button class="btn2 btn-outline-secondary" onclick="changeQuantity(this, 1)">+</button>
        <button type="button" class="btn3 btn-outline-secondary btn-sm" onclick="confirmCancel()">취소</button>
    </div>
  </div>
  <div class="cart-item" data-id="2">
    <div class="item-details">
      <input type="checkbox" class="form-check-input" style="margin-right: 10px;">
      <img src="../online/블랙농담곰.png" alt="Item 2">
      <strong>블랙 농담곰 인형</strong>
    </div>
    <div>
      26,900 KRW
    </div>
    <div class="btn-group">
        <button class="btn2 btn-outline-secondary" onclick="changeQuantity(this, -1)">-</button>
        <input type="number" value="1" min="1">
        <button class="btn2 btn-outline-secondary" onclick="changeQuantity(this, 1)">+</button>
        <button type="button" class="btn3 btn-outline-secondary btn-sm" onclick="confirmCancel()">취소</button>
    </div>
  </div>
  <button class="btn4 btn-primary order-btn" onclick="orderItems()">주문하기</button>
</div>

<div class="footer">
  <p class="text-center">웃음마을 행복구 123번지 농담곰의 미소집 3층<br>
    010-0069-9290 nongdam@dangom.com<br>
    Copyright(C)Damgom. All right reserved.</p>
</div>

<script>
    function changeQuantity(button, amount) {
        const quantityInput = button.parentElement.querySelector('input[type="number"]');
        let quantity = parseInt(quantityInput.value);
        quantity += amount;
        if (quantity < 1) quantity = 1;
        quantityInput.value = quantity;
    }

    function confirmCancel() {
        if (confirm("취소하시겠습니까?")) {
            alert("취소되었습니다.");
        }
    }

    function orderItems() {
        const selectedItems = document.querySelectorAll('.cart-item input[type="checkbox"]:checked');
        if (selectedItems.length === 0) {
            alert("주문할 상품을 선택해 주세요.");
            return;
        }

        const orderDetails = [];
        selectedItems.forEach(item => {
            const cartItem = item.closest('.cart-item');
            const itemId = cartItem.getAttribute('data-id');
            const quantity = cartItem.querySelector('input[type="number"]').value;
            orderDetails.push(`id${itemId}=${quantity}`);
        });

        const orderUrl = 'order_page.html?' + orderDetails.join('&');
        window.location.href = orderUrl;
    }
</script>
</body>
</html>
